<html>
<head>
    <title>Trivia Night</title>
    <link rel="icon" href="trivianighticon.png">
    <!-- HERE ARE YOUR FIREBASE and GOOGLE AUTHENICATION IMPORTS -->
    <script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <link href="https://fonts.googleapis.com/css?family=Muli&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap" rel="stylesheet">
</head>
<body>
    <div class="topnav" id="myTopnav">
        <!-- <img id="logoImg" src='trivianight_long.png' alt="logo" width=110px height=60px> -->
        <a style="float:left; font-family: 'Great Vibes'; font-size: 30;">Trivia Night</a>
        <a href="" id="homeBtn" onclick="homeBtn()">Home</a>
        <a href="friends.html">Friends</a>
          <div class="dropdown">
            <a class="dropbtn" id='displayUserName'> 
              <i class="fa fa-caret-down"></i>
            </a>
            <div class="dropdown-content">
              <a href="#" onclick="signout()">Sign out</a>
            </div>
          </div>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
    </div>
    <div class="sectionleft">
      <img id="userPic" height=40 width=40></img>
      <h4 id="displayUserName2"><font size="4"></font></h4>
        <div class="sectionleft2">
          <p><font size="3"> Trivia Games</font></p>
            <a><button style="width:205px; text-align:left;" id="booksBtn" onclick="booksBtn()" class="btn"> <img src="http://www.myiconfinder.com/uploads/iconsets/93d6a0d17d38f2153741af30cad5b41e.png" width="30px" length="30px" align="left">  Books</button><br></a>
            <a><button style="width:205px; text-align:left;" id="filmBtn" onclick="filmBtn()" class="btn"> <img src="http://abctechnologies.com/wp-content/uploads/icon-film.png" width="30px" lengths="30px" align="middle">  Film </button> <br></a>
            <a><button style="width:205px; text-align:left;" id="musicBtn" onclick="musicBtn()" class="btn"> <img src="http://icons.iconarchive.com/icons/dtafalonso/yosemite-flat/512/Music-icon.png" width="30px" lengths="30px" align="middle">  Music </button> <br></a>
            <a><button style="width:205px; text-align:left;" id="tvBtn" onclick="tvBtn()" class="btn"> <img src="http://icons.iconarchive.com/icons/flat-icons.com/flat/256/Flat-TV-icon.png" width="30px" lengths="30px" align="middle">  Television</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="gamesBtn" onclick="gamesBtn()" class="btn"> <img src="https://cdn2.iconfinder.com/data/icons/circle-icons-1/64/gamecontroller-512.png" width="30px" lengths="30px" align="middle">  Video Games</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="scienceBtn" onclick="scienceBtn()" class="btn"> <img src="https://image.flaticon.com/icons/png/512/119/119572.png" width="30px" lengths="30px" align="middle">  Science and Nature </button> <br></a>
            <a><button style="width:205px; text-align:left;" id="compBtn" onclick="compBtn()" class="btn"> <img src="https://i.ya-webdesign.com/images/circle-icons-png-2.png" width="30px" lengths="30px" align="middle">  Computers</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="mathBtn" onclick="mathBtn()" class="btn"> <img src="https://image.flaticon.com/icons/png/512/746/746960.png" width="30px" lengths="30px" align="middle">  Math</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="sportsBtn" onclick="sportsBtn()" class="btn"> <img src="https://images.vexels.com/media/users/3/144783/isolated/preview/f228a3c63f9c58b3550c5734536d7954-american-football-jersey-icon-by-vexels.png" width="30px" lengths="30px" align="middle"> Sports</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="geoBtn" onclick="geoBtn()" class="btn"> <img src="https://cdn3.iconfinder.com/data/icons/education-and-knowledge-2/155/vector_218_02-01-512.png" width="30px" lengths="30px" align="middle">  Geography</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="historyBtn" onclick="historyBtn()" class="btn"> <img src="https://cdn4.iconfinder.com/data/icons/flat-icon-set/2133/flat_icons-graficheria.it-10.png" width="30px" lengths="30px" align="middle">  History</button> <br></a>
            <a><button style="width:205px; text-align:left;" id="animalsBtn" onclick="animalsBtn()" class="btn"> <img src="https://image.flaticon.com/icons/png/512/194/194623.png" width="30px" lengths="30px" align="middle">  Animals</button> <br></a>
        </div>
    </div>
    <div class="section-middle">
      <div class="verticalLine" id="middle-section">
        <center>
            <font size="10">
              <p style="margin-top:35px;">Welcome to</p>
              <img src='trivianighticon.png' height=350px width=350px style='margin:0px;'>
              <p><font size="3">Select Trivia Game<br><p>On the Left to Begin</font></p>
            </font>
        </center>
      </div>
    </div>
    <div class="section-right">
      <font family="verdana" size="6px">   
      <p style="float:left;"><u>Leaderboard</u></p>
      <img src="leaderboard_icon.png" width=80 height=70 style="margin-left:20px; margin-top:2px;">
      </font>
        <div class="section-right2">
          <p class="big" id="leaderboard" style="font-size: 20px; float:left;">
            <!-- 1.  Jason  -  75 pts.<br>
            2.  Michael  -  69 pts.<br>
            3.  Jessica  -  66 pts.<br>
            4.  Ethan  -  63 pts.<br>
            5.  Joey  -  54 pts.<br> -->
          </p>
        </div>
    </div>
    <footer style="margin-top:52%; margin-left:10px;">&#169;2020 Trivia Night, Inc | 
      <a href="https://github.com/jasonlee44/jasonlee44.github.io">GitHub</a> |
      <a href="https://opentdb.com/api_config.php">Trivia API</a>
    </footer>
</body>
</html>

<style>
.sectionleft {
  width: 18.5%;
  float:left;
  margin-left: 37px;
  font-family: Muli;
  margin-top: 20px;
}

.sectionleft2 {
  padding-left: 23px;
}

.section-middle {
  float:left;
  margin-left: 0px;
  margin-top: 17px;
  width: 49.5%;
  height: 700px;
  background-color: #f6f6f6;
  color: black;
  font-family: Muli;
  border-radius: 5px;
  border-style: solid;
  border-width: thin;
  border-color: #adadad;
}

.section-right {
  float:left;
  padding-left: 20px;
  margin-top: 20px;
  margin-left: 20px;
  width: 25%;
  height:700px;
  background-color: #f6f6f6;
  border-radius: 5px;
  border-style: solid;
  border-width: thin;
  border-color: #adadad; 
  color: black;
  font-family: Muli;
}

.section-right2{
  padding-left: 10px;

}

#logoImg{
  margin-left: 20px;
  margin-top:3px;
  background-color: none;
}

#userPic{
  border-radius: 50%;
  position: relative;
  /* padding: 5px; */
  float:left;
  background-color: white;
  margin-top: 10px;
  margin-right: 5px;
}

p.big{
  line-height: 40px;
}

body {
	margin: 0;
	background: #e3e3e7;
  /* #e3e3e7 */
	font-family: Muli;
	font-weight: 500;
}

input[type=text] {
  width: 130px;
  box-sizing: border-box;
  border: 2px solid #ccc;
  border-radius: 4px;
  font-size: 16px;
  background-color: white;
  background-image: url('searchicon.png');
  background-position: 10px 10px; 
  background-repeat: no-repeat;
  padding: 12px 20px 12px 20px;
  -webkit-transition: width 0.4s ease-in-out;
  transition: width 0.4s ease-in-out;
  padding-right: 0px;
}

input[type=text]:focus {
  width: 80%;
}

.btn {
  background-color: #e3e3e7;
  border: none;
  border-radius: 3px;
  color: black;
  padding: 6px 24px;
  padding-left: 9px;
  font-size: 15px;
  margin: 4px 2px;
  transition: 0.23s;
}

.btn:hover {
  background-color: white;
  color: black;
  text-emphasis: bold;
}

.topnav {
  overflow: hidden;
  background-color:rgb(55, 78, 181);
  /* #4067b4 */
}

.topnav {
  overflow: hidden;
  background-color:rgb(55, 78, 181);
  /* #4067b4 */
}

.topnav a {
  float: right;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 24px 17px;
  padding-right: 30px;
  text-decoration: none;
  height: 17px;
  font-size: 17px;
}

.topnav a:hover {
  color: #4f4f4f;
  transition: 0.5s;
}

.topnav a.active {
  background-color: #f6f6f6;
  color: black;
}

.topnav .icon {
  display: none;
}

.slidecontainer {
  width: 50%;
  padding-top: 20px;

}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4067b4;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4067b4;
  cursor: pointer;
}

.section-question {
  height:130px;
  width: 100%;
  background-color: #f6f6f6;
  border-radius:6px; 
  text-align: center;
}
/* Chong section */
.question-margin {
  margin-left: 5px;
  margin-right: 5px;
  text-align:center;
  padding-top: 10px;
}

.example_a {
    color: black !important;
    text-transform: capitalize;
    background: white;
    padding: 15px;
    border: 4px solid blue !important;
    border-radius: 6px;
    display: block;
    transition: all 0.6s ease 0s;
    font-size: 25px;
    width: 43.5%;
    height: 220px;
    margin-left: 34px;
    float: left;
    margin-top: 10px;
}

.example_a:hover {
    color: #494949 !important;
    border-radius: 50px;
    border-color: #494949 !important;
    transition: all 0.6s ease 0s;
}

.example_b {
    color: black !important;
    text-transform: capitalize;
    background: white;
    padding: 15px;
    border: 4px solid red !important;
    border-radius: 6px;
    display: block;
    transition: all 0.6s ease 0s;
    font-size: 25px;
    width: 43.5%;
    height: 220px;
    margin-right: 34px;
    float: right;
    margin-top:10px;
}

.example_b:hover {
    color: #494949 !important;
    border-radius: 50px;
    border-color: #494949 !important;
    transition: all 0.6s ease 0s;
}

.example_c {
    color: black !important;
    text-transform: capitalize;
    background: white;
    padding: 15px;
    border: 4px solid green !important;
    border-radius: 6px;
    display: block;
    transition: all 0.6s ease 0s;
    font-size: 25px;
    width: 43.5%;
    height: 220px;
    float: left;
    margin-left: 34px;
    margin-top: 30px;
}

.example_c:hover {
    color: #494949 !important;
    border-radius: 50px;
    border-color: #494949 !important;
    transition: all 0.6s ease 0s;
}

.example_d {
    color: black !important;
    text-transform: capitalize;
    background: white;
    padding: 15px;
    border: 4px solid orange !important;
    border-radius: 6px;
    display: block;
    transition: all 0.6s ease 0s;
    font-size: 25px;
    width: 43.5%;
    height: 220px;
    float: right;
    margin-right: 34px;
    margin-top: 30px;
}

.example_d:hover {
    color: #494949 !important;
    border-radius: 50px;
    border-color: #494949 !important;
    transition: all 0.6s ease 0s;
}

@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive .icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
}

.dropdown {
  float: right;
  overflow: hidden;
  margin-top:10px;
  margin-right: 10px;
  font-size: 16px;
}

.dropdown .dropbtn { 
  border: none;
  outline: none;
  /* color: white; */
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9cf;
  /* min-width: 130px; */
  /* box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); */
  z-index: 1;
  margin-top: 40px;
  margin-left: 10px;
  text-align: center;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 10px 10px;
  text-decoration: none;
  display: block;
  /* text-align: left; */
  font-size: 15px;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}
</style>

<script>
  // topnav function
  function myFunction() {
    var x = document.getElementById("myTopnav");
    if (x.className === "topnav") {
      x.className += " responsive";
    } else {
      x.className = "topnav";
    }
  } // end of topnav function

  function homeBtn(){ // click home button
    document.getElementById("middle-section").innerHTML = `
        <div class="verticalLine" id="middle-section">
            <center>
                <font size="10">
                  <p style="margin-top:35px;">Welcome to</p>
                  <img src='trivianighticon.png' height=350px width=350px style='margin:0px;'>
                  <p><font size="3">Select Trivia Game<br><p>On the Left to Begin</font></p>
                </font>
            </center>
          </div> `
    console.log("ok");
  } // end of homeBtn function
  
  function booksBtn(){ // select books option
    cate = 10; // set category to books
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2> Books<img src="https://img.icons8.com/plasticine/2x/book.png" width="40px" length="40px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of booksBtn function

  function filmBtn(){ // select film option
    cate = 11; // set category to books
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2> Film <img src="https://icons.iconarchive.com/icons/designbolts/free-multimedia/512/Film-icon.png" width="35px" lengths="35px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of filmBtn function

  function musicBtn(){ // select music option
    cate = 12; // set category to music
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2> Music <img src="https://image.flaticon.com/icons/png/512/122/122320.png" width="28px" lengths="28px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of musicBtn function

  function tvBtn(){ // select tv option
    cate = 14; // set category to tv
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Television<img src="https://www.pngkit.com/png/detail/920-9203959_television-transparent-tv-icon-png.png" width="50px" lengths="50px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of tvBtn function

  function gamesBtn(){ // select video games option
    cate = 15; // set category to video games
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Video Games <img src="https://www.netclipart.com/pp/m/4-42829_video-game-controller-icon-video-games-icon-png.png" width="40px" lengths="40px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of gamesBtn function

  function scienceBtn(){ // select science and nature option
    cate = 17; // set category to science and nature
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Science and Nature <img src="https://cdn2.iconfinder.com/data/icons/science-flat-style-1/64/science-atom-education-nuclear-physics-atomic-Electron-512.png" width="40px" lengths="40px" align="center"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of scienceBtn function

  function compBtn(){ // select computers option
    cate = 18; // set category to computers
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Computers <img src="https://images.vexels.com/media/users/3/128243/isolated/preview/a1a5b9494d50bb3754bba547f2d88487-computer-monitor-flat-icon-by-vexels.png" width="37px" lengths="37px" align="center"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of compBtn function

  function mathBtn(){ // select math option
    cate = 19; // set category to math
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Math <img src="https://www.pngitem.com/pimgs/m/79-792168_calculator-icon-math-icon-png-transparent-png.png" width="35px" lengths="35px" align="center"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='medium'>Medium</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="11" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of mathBtn function

  function sportsBtn(){ // select sports option
    cate = 21; // set category to sports
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Sports <img src="https://cdn4.iconfinder.com/data/icons/education-training/33/sports-512.png" width="38px" lengths="38px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of sportsBtn function

  function geoBtn(){ // select geography option
    cate = 22; // set category to geography
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Geography<img src="https://library.kissclipart.com/20180831/tyq/kissclipart-geography-icon-png-clipart-computer-icons-clip-art-7fea630a7804b597.jpg" width="70px" lengths="70px" align="center"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of geographyBtn function

  function historyBtn(){ // select history option
    cate = 23; // set category to history
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>History<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTp2TA3FWgpBtHJjz-1DN1x1TX8ffwg0IlVBgdXujgbu2L_lR8-" width="53px" lengths="53px" align="center"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="15" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of historyBtn function

  function animalsBtn(){ // select animals option
    cate = 27; // set category to animals
    document.getElementById("middle-section").innerHTML = ` 
    <font size='4px'><center><h2>Animals<img src="https://www.netclipart.com/pp/m/246-2462137_animals-icon-png.png" width="43px" lengths="43px" align="top"></h2></center></font>
            <center> <p> Difficulty</p>
            <select id='difficulty'>
              <option value='easy'>Easy</option>
              <option value='medium'>Medium</option>
              <option value='hard'>Hard</option>
            </select>
            <div class='slidecontainer'>
              <h5>Number of Questions</h5>
              <input id='myRange' class='slider' type="range" min="5" max="13" step="1" value="10">
              <p id="demo">10</p>
            </div>
            <button id='submitBtn' onclick='submit()'>Submit!</button>
          </center>`
    // getting value of slider and outputting on screen
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    slider.oninput = function() {
        output.innerHTML = this.value;
    }
  } // end of animalsBtn function

  var diff; // difficulty of questions
  var cate; // category of questions
  var questionVal; // number of questions

  var data;
  var state; // which question number is being outputted
  var score;

  function submit(){ // user click submit button
    order = [];
    correct = "";
    diff = document.getElementById("difficulty").value;
    questionVal = document.getElementById("myRange").value
    // getting API
    var request = new XMLHttpRequest()
    request.open('GET', 'https://opentdb.com/api.php?amount='+questionVal+'&category='+cate+'&difficulty='+diff+'&type=multiple', true)
    request.onload = function() {
    data = JSON.parse(this.response)
        console.log(data['results'])
        state = 0;
        score = 0;
        displayQuestion()
    }
    request.send()
  } // end of submit function
  
  let order = []; // to store all answers for each question

  function displayQuestion(){
    if(state != data['results'].length){
      order.push(data['results'][state]['correct_answer']) // adding the correct answer to array
      for(i=0;i<3;i++){ // adding incorrect answers to array
        order.push(data['results'][state]['incorrect_answers'][i])
      }
      order.sort(() => Math.random() - 0.5); //randomizes the answers
      document.getElementById("middle-section").innerHTML = `
      <center>
        <div class="section-question">
          <div class="question-margin">
              <font size=6px>` + data['results'][state]['question'] + `
              </font>
              <div id="checkDisplay" style="margin-top:20px;></div>
            </div>
          </div>
        <div id="answerBtnSection">
        <br>
        <div class="button_cont" align="center">
          <button class="example_a" id="btn1" onclick="clickAnswer(this.id)"></button> 
          <button class="example_b" id="btn2" onclick="clickAnswer(this.id)"></button> <br>
          <button class="example_c" id="btn3" onclick="clickAnswer(this.id)"></button> 
          <button class="example_d" id="btn4" onclick="clickAnswer(this.id)"></button> 
        </div>
      </div>`
      for(i=1;i<5;i++){ //putting the answer onto the buttons
        document.getElementById('btn'.concat(i)).innerHTML = order[i-1]
      }
    }   
    else{
      firebase.database().ref('users/' + userId + '/userInfo' + '/score').once('value', function(snapshot) {
        console.log("firebase score: "+snapshot.val())
        document.getElementById("middle-section").innerHTML = "<center><h2>You got "+score+" out of "+questionVal+" questions correct</h2></center><br>"
      document.getElementById("middle-section").innerHTML += "<center><h3>You were at "+snapshot.val()+" points. Now you have "+ (snapshot.val() + score) +" points.<h3></center>"
        firebase.database().ref('users/' + userId + '/userInfo').update({score: parseInt(snapshot.val()) + parseInt(score)}).catch(function(error){alert("Error occured" + error);});
        updateLeaderboard()
        });
      }
  }
  function clickAnswer(clicked_id){
    order = [];
    console.log(state)
    if (document.getElementById(clicked_id).innerHTML == data['results'][state]['correct_answer']){
      // alert("Correct")
      document.getElementById("checkDisplay").innerHTML = "<p style='color:green;'>Correct!</p>"
      score++;

    }
    else{
      // alert("Incorrect: " + data['results'][state]['correct_answer'])
      document.getElementById("checkDisplay").innerHTML = "<p style='color:red;'>Incorrect!</p>"
    }
    
    state++;
    displayQuestion()
  }

  var firebaseConfig = {
    apiKey: "AIzaSyCYNDNxnGUOAD6g9N1GhpfgbBiq_-O_7BU",
    authDomain: "trivianight-b4745.firebaseapp.com",
    databaseURL: "https://trivianight-b4745.firebaseio.com",
    projectId: "trivianight-b4745",
    storageBucket: "trivianight-b4745.appspot.com",
    messagingSenderId: "985127241790",
    appId: "1:985127241790:web:d36213ec7a7deaf8d8e96f"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
          
  // Check to see if you are logged in
  firebase.auth().onAuthStateChanged(function(user) {
    if (user == null) {
        document.getElementById("middle-section").innerHTML = `
        <center><h3>You are not logged in</h3></center><br>
        <center><button onclick='redirect()'>Login</button></center>
        `;
        return;
    } else { // if logged in
      userId = user.uid;
      userEmail = user.email // you can also get .displayName, .photoURL, .email
      firebase.database().ref('users/' + userId + '/userInfo').update({email: userEmail}).catch(function(error){alert("Error occured" + error);});
      firebase.database().ref('users/' + userId + '/userInfo').update({name: user.displayName}).catch(function(error){alert("Error occured" + error);});
      firebase.database().ref('users/' + userId + '/userInfo').update({pic: user.photoURL}).catch(function(error){alert("Error occured" + error);});
      console.log("You are logged in")

      firebase.database().ref('users/' + userId).once('value', function(snapshot) {
        // console.log(Object.values(snapshot.val())[0]['score'])
        if(Object.values(snapshot.val())[0]['score'] == null){
          firebase.database().ref('users/' + userId + '/userInfo').update({score: 0}).catch(function(error){alert("Error occured" + error);});
        }
      });

      document.getElementById("displayUserName").innerHTML = user.displayName
      document.getElementById("displayUserName2").innerHTML = user.displayName
      document.getElementById("userPic").src = user.photoURL;
      
      userId = user.uid;
      userEmail = user.email // you can also get .displayName, .photoURL, .email 

      updateLeaderboard()

    } // end user null check
  }); // end check auth state

  function signin() {
    var provider = new firebase.auth.GoogleAuthProvider();
    firebase.auth().signInWithRedirect(provider).then(function(result) { 
        // window.location.replace("fbtest.html"); 
    });
  }

  function signout() {
    firebase.auth().signOut().then(function() {
        // Sign-out successful.
    }).catch(function(error) {
        // An error happened.
    });
    redirect()
  }

  function redirect(){
    location.reload();
    window.location.href = "login.html"
  }

  function updateLeaderboard(){ // displaying the leaderboard
    document.getElementById("leaderboard").innerHTML = " "
    leaders = {}
    firebase.database().ref('users/').once('value', function(snapshot) {
      for(i=0; i<Object.keys(snapshot.val()).length; i++){
        leaders[Object.keys(snapshot.val())[i]] = Object.values(snapshot.val())[i]['userInfo']['score']
      }
      ordered_leaders = sortProperties(leaders)
      for(i=0; i<Object.keys(snapshot.val()).length; i++){
        if(ordered_leaders[i][0] === userId){
          document.getElementById("leaderboard").innerHTML += parseInt(i+1)+ ".&nbsp;&nbsp;&nbsp;&nbsp;"  + snapshot.val()[ordered_leaders[i][0]]['userInfo']['name'].split(" ")[0]+" (me)" + "&nbsp;&nbsp;-&nbsp;&nbsp;" + ordered_leaders[i][1] + "&nbsp;pts." + "<br>"
        }
        else{
          document.getElementById("leaderboard").innerHTML += parseInt(i+1)+ ".&nbsp;&nbsp;&nbsp;&nbsp;"  + snapshot.val()[ordered_leaders[i][0]]['userInfo']['name'].split(" ")[0] + "&nbsp;&nbsp;-&nbsp;&nbsp;" + ordered_leaders[i][1] + "&nbsp;pts." + "<br>"
        }
      }
    }); 
  }

  function sortProperties(obj){ 
    // convert object into array
    var sortable=[];
    for(var key in obj)
      if(obj.hasOwnProperty(key))
        sortable.push([key, obj[key]]); // each item is an array in format [key, value]
    
    // sort items by value
    sortable.sort(function(a, b)
    {
      return b[1]-a[1]; // compare numbers
    });
    return sortable; // array in format [ [ key1, val1 ], [ key2, val2 ], ... ]
  }

  function wait(ms){
   var start = new Date().getTime();
   var end = start;
   while(end < start + ms) {
     end = new Date().getTime();
    }
  }
</script>
